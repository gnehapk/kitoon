// <reference path="../typings/tsd.d.ts" />
var HostDetailController = (function () {
    function HostDetailController(routeParamsSvc, serverService) {
        var _this = this;
        this.routeParamsSvc = routeParamsSvc;
        this.serverService = serverService;
        this.hostList = [];
        this.tabList = {
            Overview: 1,
            Configuration: 2
        };
        this.activeTab = this.tabList.Overview;
        this.id = this.routeParamsSvc['id'];
        this.serverService.getList().then(function (hosts) {
            _this.hostList = _.filter(hosts, function (host) {
                return host.state === 2; /* Only Active host will list down in drop-down list*/
            });
            _this.host = _.find(hosts, function (host) {
                return host.nodeid === _this.id;
            });
            if (_this.host.roles.indexOf('OSD') > -1) {
                _this.tabList.OSDs = 3;
            }
            _this.host.utilizations.networkusage.updatedat = new Date(_this.host.utilizations.networkusage.updatedat.replace(/-/g, "/").split('.')[0]);
        });
    }
    HostDetailController.prototype.setTab = function (newTab) {
        this.activeTab = newTab;
    };
    HostDetailController.prototype.isSet = function (tabNum) {
        return this.activeTab === tabNum;
    };
    //Services that are used in this class.
    HostDetailController.$inject = [
        '$routeParams',
        'ServerService'
    ];
    return HostDetailController;
})();
exports.HostDetailController = HostDetailController;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvaG9zdHMvaG9zdC1kZXRhaWxzL2hvc3QtZGV0YWlsLnRzIl0sIm5hbWVzIjpbIkhvc3REZXRhaWxDb250cm9sbGVyIiwiSG9zdERldGFpbENvbnRyb2xsZXIuY29uc3RydWN0b3IiLCJIb3N0RGV0YWlsQ29udHJvbGxlci5zZXRUYWIiLCJIb3N0RGV0YWlsQ29udHJvbGxlci5pc1NldCJdLCJtYXBwaW5ncyI6IkFBQUEsMkNBQTJDO0FBSzNDO0lBYUlBLDhCQUFvQkEsY0FBNENBLEVBQ3BEQSxhQUE0QkE7UUFkNUNDLGlCQTRDQ0E7UUEvQnVCQSxtQkFBY0EsR0FBZEEsY0FBY0EsQ0FBOEJBO1FBQ3BEQSxrQkFBYUEsR0FBYkEsYUFBYUEsQ0FBZUE7UUFDaENBLElBQUlBLENBQUNBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ25CQSxJQUFJQSxDQUFDQSxPQUFPQSxHQUFHQTtZQUNYQSxRQUFRQSxFQUFFQSxDQUFDQTtZQUNYQSxhQUFhQSxFQUFFQSxDQUFDQTtTQUNuQkEsQ0FBQUE7UUFDREEsSUFBSUEsQ0FBQ0EsU0FBU0EsR0FBR0EsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0E7UUFDdkNBLElBQUlBLENBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ3BDQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxLQUFpQkE7WUFDaERBLEtBQUlBLENBQUNBLFFBQVFBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEtBQUtBLEVBQUVBLFVBQUNBLElBQUlBO2dCQUNqQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0Esc0RBQXNEQTtZQUNuRkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDSEEsS0FBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsRUFBRUEsVUFBQ0EsSUFBSUE7Z0JBQzNCQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxLQUFLQSxLQUFJQSxDQUFDQSxFQUFFQSxDQUFDQTtZQUNuQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDSEEsRUFBRUEsQ0FBQUEsQ0FBQ0EsS0FBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3JDQSxLQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFBQTtZQUN6QkEsQ0FBQ0E7WUFDREEsS0FBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsU0FBU0EsR0FBR0EsSUFBSUEsSUFBSUEsQ0FBQ0EsS0FBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsRUFBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDNUlBLENBQUNBLENBQUNBLENBQUNBO0lBQ1hBLENBQUNBO0lBRU1ELHFDQUFNQSxHQUFiQSxVQUFjQSxNQUFjQTtRQUN4QkUsSUFBSUEsQ0FBQ0EsU0FBU0EsR0FBR0EsTUFBTUEsQ0FBQ0E7SUFDNUJBLENBQUNBO0lBRU1GLG9DQUFLQSxHQUFaQSxVQUFhQSxNQUFjQTtRQUN2QkcsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsS0FBS0EsTUFBTUEsQ0FBQ0E7SUFDckNBLENBQUNBO0lBbkNESCx1Q0FBdUNBO0lBQ2hDQSw0QkFBT0EsR0FBa0JBO1FBQzVCQSxjQUFjQTtRQUNkQSxlQUFlQTtLQUNsQkEsQ0FBQ0E7SUFpQ05BLDJCQUFDQTtBQUFEQSxDQTVDQSxBQTRDQ0EsSUFBQTtBQTVDWSw0QkFBb0IsdUJBNENoQyxDQUFBIiwiZmlsZSI6Im1vZHVsZXMvaG9zdHMvaG9zdC1kZXRhaWxzL2hvc3QtZGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG5cbmltcG9ydCB7U2VydmVyU2VydmljZX0gZnJvbSAnLi4vLi4vcmVzdC9zZXJ2ZXInO1xuaW1wb3J0IHtOb2RlfSBmcm9tICcuLi8uLi9yZXN0L3NlcnZlcic7XG5cbmV4cG9ydCBjbGFzcyBIb3N0RGV0YWlsQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBob3N0TGlzdDogQXJyYXk8Tm9kZT47XG4gICAgcHJpdmF0ZSBob3N0OiBOb2RlO1xuICAgIHByaXZhdGUgaWQ6IHN0cmluZztcbiAgICBwcml2YXRlIHRhYkxpc3Q6IGFueTtcbiAgICBwcml2YXRlIGFjdGl2ZVRhYjogbnVtYmVyO1xuXG4gICAgLy9TZXJ2aWNlcyB0aGF0IGFyZSB1c2VkIGluIHRoaXMgY2xhc3MuXG4gICAgc3RhdGljICRpbmplY3Q6IEFycmF5PHN0cmluZz4gPSBbXG4gICAgICAgICckcm91dGVQYXJhbXMnLFxuICAgICAgICAnU2VydmVyU2VydmljZSdcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByb3V0ZVBhcmFtc1N2Yzogbmcucm91dGUuSVJvdXRlUGFyYW1zU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBzZXJ2ZXJTZXJ2aWNlOiBTZXJ2ZXJTZXJ2aWNlKSB7XG4gICAgICAgICAgICB0aGlzLmhvc3RMaXN0ID0gW107XG4gICAgICAgICAgICB0aGlzLnRhYkxpc3QgPSB7XG4gICAgICAgICAgICAgICAgT3ZlcnZpZXc6IDEsXG4gICAgICAgICAgICAgICAgQ29uZmlndXJhdGlvbjogMlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWIgPSB0aGlzLnRhYkxpc3QuT3ZlcnZpZXc7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yb3V0ZVBhcmFtc1N2Y1snaWQnXTtcbiAgICAgICAgICAgIHRoaXMuc2VydmVyU2VydmljZS5nZXRMaXN0KCkudGhlbigoaG9zdHM6IEFycmF5PGFueT4pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3RMaXN0ID0gXy5maWx0ZXIoaG9zdHMsIChob3N0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBob3N0LnN0YXRlID09PSAyOyAvKiBPbmx5IEFjdGl2ZSBob3N0IHdpbGwgbGlzdCBkb3duIGluIGRyb3AtZG93biBsaXN0Ki9cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3QgPSBfLmZpbmQoaG9zdHMsIChob3N0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBob3N0Lm5vZGVpZCA9PT0gdGhpcy5pZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmhvc3Qucm9sZXMuaW5kZXhPZignT1NEJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYkxpc3QuT1NEcyA9IDNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0LnV0aWxpemF0aW9ucy5uZXR3b3JrdXNhZ2UudXBkYXRlZGF0ID0gbmV3IERhdGUodGhpcy5ob3N0LnV0aWxpemF0aW9ucy5uZXR3b3JrdXNhZ2UudXBkYXRlZGF0LnJlcGxhY2UoLy0vZyxcIi9cIikuc3BsaXQoJy4nKVswXSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VGFiKG5ld1RhYjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVGFiID0gbmV3VGFiO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1NldCh0YWJOdW06IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVUYWIgPT09IHRhYk51bTtcbiAgICB9XG5cbn1cbiJdfQ==
