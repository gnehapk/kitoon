var UserController = (function () {
    function UserController($location, UserService) {
        this.$location = $location;
        this.UserService = UserService;
        this.getUsers();
        this.getCurrentUser();
    }
    UserController.prototype.getUsers = function () {
        var _this = this;
        this.UserService.getUsers().then(function (users) {
            _this.userList = users;
        });
    };
    UserController.prototype.getCurrentUser = function () {
        var _this = this;
        this.UserService.getCurrentUser().then(function (user) {
            _this.currentUser = user;
        });
    };
    UserController.prototype.addUser = function () {
        this.$location.path('/admin/new');
    };
    UserController.prototype.addLdapUser = function () {
        this.$location.path('/admin/newLdap');
    };
    UserController.prototype.editUser = function (userId) {
        this.$location.path('/admin/edit/' + userId);
    };
    UserController.prototype.toggleEmailStatus = function (user) {
        var _this = this;
        user.notificationenabled = !user.notificationenabled;
        this.UserService.updateUser(user.username, user).then(function (result) {
            if (result.status === 200) {
                _this.$location.path('/admin');
            }
        });
    };
    UserController.prototype.toggleUserStatus = function (user) {
        var _this = this;
        user.status = !user.status;
        this.UserService.updateUser(user.username, user).then(function (result) {
            if (result.status === 200) {
                _this.$location.path('/admin');
            }
        });
    };
    UserController.prototype.deleteUser = function (userId) {
        var _this = this;
        this.UserService.deleteUser(userId).then(function (result) {
            if (result.status === 200) {
                _this.getUsers();
            }
        });
    };
    UserController.prototype.configureLdap = function () {
        this.$location.path('/admin/ldap');
    };
    UserController.$inject = [
        '$location',
        'UserService',
    ];
    return UserController;
})();
exports.UserController = UserController;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvYWRtaW4vdXNlci1jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbIlVzZXJDb250cm9sbGVyIiwiVXNlckNvbnRyb2xsZXIuY29uc3RydWN0b3IiLCJVc2VyQ29udHJvbGxlci5nZXRVc2VycyIsIlVzZXJDb250cm9sbGVyLmdldEN1cnJlbnRVc2VyIiwiVXNlckNvbnRyb2xsZXIuYWRkVXNlciIsIlVzZXJDb250cm9sbGVyLmFkZExkYXBVc2VyIiwiVXNlckNvbnRyb2xsZXIuZWRpdFVzZXIiLCJVc2VyQ29udHJvbGxlci50b2dnbGVFbWFpbFN0YXR1cyIsIlVzZXJDb250cm9sbGVyLnRvZ2dsZVVzZXJTdGF0dXMiLCJVc2VyQ29udHJvbGxlci5kZWxldGVVc2VyIiwiVXNlckNvbnRyb2xsZXIuY29uZmlndXJlTGRhcCJdLCJtYXBwaW5ncyI6IkFBRUE7SUFTSUEsd0JBQ1lBLFNBQThCQSxFQUM5QkEsV0FBd0JBO1FBRHhCQyxjQUFTQSxHQUFUQSxTQUFTQSxDQUFxQkE7UUFDOUJBLGdCQUFXQSxHQUFYQSxXQUFXQSxDQUFhQTtRQUNoQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBRUEsQ0FBQ0E7UUFDaEJBLElBQUlBLENBQUNBLGNBQWNBLEVBQUVBLENBQUNBO0lBQzFCQSxDQUFDQTtJQUVNRCxpQ0FBUUEsR0FBZkE7UUFBQUUsaUJBSUNBO1FBSEdBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLFVBQUNBLEtBQUtBO1lBQ25DQSxLQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxLQUFLQSxDQUFDQTtRQUMxQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDUEEsQ0FBQ0E7SUFFTUYsdUNBQWNBLEdBQXJCQTtRQUFBRyxpQkFJQ0E7UUFIR0EsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsY0FBY0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBQ0EsSUFBSUE7WUFDeENBLEtBQUlBLENBQUNBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBO1FBQzVCQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUNQQSxDQUFDQTtJQUVNSCxnQ0FBT0EsR0FBZEE7UUFDSUksSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0E7SUFDdENBLENBQUNBO0lBRU1KLG9DQUFXQSxHQUFsQkE7UUFDSUssSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQTtJQUMxQ0EsQ0FBQ0E7SUFFTUwsaUNBQVFBLEdBQWZBLFVBQWdCQSxNQUFNQTtRQUNsQk0sSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7SUFDL0NBLENBQUNBO0lBRU1OLDBDQUFpQkEsR0FBeEJBLFVBQXlCQSxJQUFJQTtRQUE3Qk8saUJBT0NBO1FBTkdBLElBQUlBLENBQUNBLG1CQUFtQkEsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQTtRQUNyREEsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBQ0EsTUFBTUE7WUFDeERBLEVBQUVBLENBQUFBLENBQUNBLE1BQU1BLENBQUNBLE1BQU1BLEtBQUtBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO2dCQUN2QkEsS0FBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7WUFDbENBLENBQUNBO1FBQ0xBLENBQUNBLENBQUNBLENBQUNBO0lBQ1BBLENBQUNBO0lBRU1QLHlDQUFnQkEsR0FBdkJBLFVBQXdCQSxJQUFJQTtRQUE1QlEsaUJBT0NBO1FBTkdBLElBQUlBLENBQUNBLE1BQU1BLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBO1FBQzNCQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxFQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxNQUFNQTtZQUN4REEsRUFBRUEsQ0FBQUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsS0FBS0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3ZCQSxLQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtZQUNsQ0EsQ0FBQ0E7UUFDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDUEEsQ0FBQ0E7SUFFTVIsbUNBQVVBLEdBQWpCQSxVQUFrQkEsTUFBTUE7UUFBeEJTLGlCQU1DQTtRQUxHQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxVQUFVQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxNQUFNQTtZQUM1Q0EsRUFBRUEsQ0FBQUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsS0FBS0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3ZCQSxLQUFJQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQTtZQUNwQkEsQ0FBQ0E7UUFDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDUEEsQ0FBQ0E7SUFFTVQsc0NBQWFBLEdBQXBCQTtRQUNJVSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQTtJQUN2Q0EsQ0FBQ0E7SUFoRU1WLHNCQUFPQSxHQUFrQkE7UUFDNUJBLFdBQVdBO1FBQ1hBLGFBQWFBO0tBQ2hCQSxDQUFDQTtJQThETkEscUJBQUNBO0FBQURBLENBckVBLEFBcUVDQSxJQUFBO0FBckVZLHNCQUFjLGlCQXFFMUIsQ0FBQSIsImZpbGUiOiJtb2R1bGVzL2FkbWluL3VzZXItY29udHJvbGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7VXNlclNlcnZpY2V9IGZyb20gJy4uL3Jlc3QvdXNlcic7XG5cbmV4cG9ydCBjbGFzcyBVc2VyQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBlcnJvck1zZztcbiAgICBwcml2YXRlIHVzZXJMaXN0IDogQXJyYXk8YW55PjtcbiAgICBwcml2YXRlIGN1cnJlbnRVc2VyIDogYW55O1xuICAgIHN0YXRpYyAkaW5qZWN0OiBBcnJheTxzdHJpbmc+ID0gW1xuICAgICAgICAnJGxvY2F0aW9uJyxcbiAgICAgICAgJ1VzZXJTZXJ2aWNlJyxcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgJGxvY2F0aW9uOiBuZy5JTG9jYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIFVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZSkge1xuICAgICAgICB0aGlzLmdldFVzZXJzKCk7XG4gICAgICAgIHRoaXMuZ2V0Q3VycmVudFVzZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VXNlcnMoKXtcbiAgICAgICAgdGhpcy5Vc2VyU2VydmljZS5nZXRVc2VycygpLnRoZW4oKHVzZXJzKT0+e1xuICAgICAgICAgICAgdGhpcy51c2VyTGlzdCA9IHVzZXJzO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q3VycmVudFVzZXIoKXtcbiAgICAgICAgdGhpcy5Vc2VyU2VydmljZS5nZXRDdXJyZW50VXNlcigpLnRoZW4oKHVzZXIpPT57XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFVzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi9uZXcnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkTGRhcFVzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi9uZXdMZGFwJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGVkaXRVc2VyKHVzZXJJZCk6IHZvaWQge1xuICAgICAgICB0aGlzLiRsb2NhdGlvbi5wYXRoKCcvYWRtaW4vZWRpdC8nK3VzZXJJZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvZ2dsZUVtYWlsU3RhdHVzKHVzZXIpOiB2b2lkIHtcbiAgICAgICAgdXNlci5ub3RpZmljYXRpb25lbmFibGVkID0gIXVzZXIubm90aWZpY2F0aW9uZW5hYmxlZDtcbiAgICAgICAgdGhpcy5Vc2VyU2VydmljZS51cGRhdGVVc2VyKHVzZXIudXNlcm5hbWUsdXNlcikudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZihyZXN1bHQuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi5wYXRoKCcvYWRtaW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvZ2dsZVVzZXJTdGF0dXModXNlcik6IHZvaWQge1xuICAgICAgICB1c2VyLnN0YXR1cyA9ICF1c2VyLnN0YXR1cztcbiAgICAgICAgdGhpcy5Vc2VyU2VydmljZS51cGRhdGVVc2VyKHVzZXIudXNlcm5hbWUsdXNlcikudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZihyZXN1bHQuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi5wYXRoKCcvYWRtaW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlbGV0ZVVzZXIodXNlcklkKTp2b2lkIHtcbiAgICAgICAgdGhpcy5Vc2VyU2VydmljZS5kZWxldGVVc2VyKHVzZXJJZCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZihyZXN1bHQuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb25maWd1cmVMZGFwKCk6IHZvaWQge1xuICAgICAgICB0aGlzLiRsb2NhdGlvbi5wYXRoKCcvYWRtaW4vbGRhcCcpO1xuICAgIH1cbn1cbiJdfQ==
