/// <reference path="../../../typings/tsd.d.ts" />
var ConfigService = (function () {
    function ConfigService($q, rest) {
        this.$q = $q;
        this.rest = rest;
    }
    ConfigService.prototype.initConfig = function () {
        var _this = this;
        return this.rest.all('config').customGET('config.json').then(function (config) {
            _this.config = config;
        }, function (reason) {
            _this.config = {};
        });
    };
    ConfigService.prototype.getConfig = function () {
        var _this = this;
        var defered = this.$q.defer();
        if (this.config) {
            defered.resolve(this.config);
        }
        else {
            this.initConfig().then(function () {
                defered.resolve(_this.config);
            });
        }
        return defered.promise;
    };
    ConfigService.$inject = ['$q', 'Restangular'];
    return ConfigService;
})();
exports.ConfigService = ConfigService;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvcmVzdC9jb25maWcudHMiXSwibmFtZXMiOlsiQ29uZmlnU2VydmljZSIsIkNvbmZpZ1NlcnZpY2UuY29uc3RydWN0b3IiLCJDb25maWdTZXJ2aWNlLmluaXRDb25maWciLCJDb25maWdTZXJ2aWNlLmdldENvbmZpZyJdLCJtYXBwaW5ncyI6IkFBQUEsa0RBQWtEO0FBUWxEO0lBR0lBLHVCQUNZQSxFQUFnQkEsRUFDaEJBLElBQTZCQTtRQUQ3QkMsT0FBRUEsR0FBRkEsRUFBRUEsQ0FBY0E7UUFDaEJBLFNBQUlBLEdBQUpBLElBQUlBLENBQXlCQTtJQUN6Q0EsQ0FBQ0E7SUFFTUQsa0NBQVVBLEdBQWpCQTtRQUFBRSxpQkFNQ0E7UUFMR0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBQ0EsTUFBTUE7WUFDaEVBLEtBQUlBLENBQUNBLE1BQU1BLEdBQUdBLE1BQU1BLENBQUNBO1FBQ3pCQSxDQUFDQSxFQUFFQSxVQUFDQSxNQUFNQTtZQUNOQSxLQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNyQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDUEEsQ0FBQ0E7SUFFTUYsaUNBQVNBLEdBQWhCQTtRQUFBRyxpQkFXQ0E7UUFWR0EsSUFBSUEsT0FBT0EsR0FBR0EsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFDOUJBLEVBQUVBLENBQUFBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1lBQ2JBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1FBQ2pDQSxDQUFDQTtRQUNEQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUNGQSxJQUFJQSxDQUFDQSxVQUFVQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQTtnQkFDbkJBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLEtBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1lBQ2pDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNQQSxDQUFDQTtRQUNEQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQTtJQUMzQkEsQ0FBQ0E7SUF6Qk1ILHFCQUFPQSxHQUFrQkEsQ0FBQ0EsSUFBSUEsRUFBQ0EsYUFBYUEsQ0FBQ0EsQ0FBQ0E7SUEwQnpEQSxvQkFBQ0E7QUFBREEsQ0E1QkEsQUE0QkNBLElBQUE7QUE1QlkscUJBQWEsZ0JBNEJ6QixDQUFBIiwiZmlsZSI6Im1vZHVsZXMvcmVzdC9jb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG5cbmludGVyZmFjZSBBcHBDb25maWcge1xuICAgIGNlcGhfbWluX21vbml0b3JzPzogbnVtYmVyO1xuICAgIGNlcGhfbWl4X2hvc3Rfcm9sZXM/OiBib29sZWFuO1xuICAgIGNvcHlyaWdodD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIENvbmZpZ1NlcnZpY2Uge1xuICAgIHByaXZhdGUgY29uZmlnOiBBcHBDb25maWc7XG4gICAgc3RhdGljICRpbmplY3Q6IEFycmF5PHN0cmluZz4gPSBbJyRxJywnUmVzdGFuZ3VsYXInXTtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSAkcTogbmcuSVFTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHJlc3Q6IHJlc3Rhbmd1bGFyLklDb2xsZWN0aW9uKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXRDb25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3QuYWxsKCdjb25maWcnKS5jdXN0b21HRVQoJ2NvbmZpZy5qc29uJykudGhlbigoY29uZmlnKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSwgKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb25maWcgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvbmZpZygpOiBuZy5JUHJvbWlzZTxBcHBDb25maWc+IHtcbiAgICAgICAgdmFyIGRlZmVyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgICAgIGlmKHRoaXMuY29uZmlnKSB7XG4gICAgICAgICAgICBkZWZlcmVkLnJlc29sdmUodGhpcy5jb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbml0Q29uZmlnKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVmZXJlZC5yZXNvbHZlKHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcmVkLnByb21pc2U7XG4gICAgfVxufVxuIl19
